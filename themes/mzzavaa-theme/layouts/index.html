{{ define "main" }}
<section class="hero">
    <div class="container">
        <h1 class="gradient-text">Welcome to {{ .Site.Title }}</h1>
        <p>{{ .Site.Params.description }}</p>
        <a href="/posts/" class="btn">Read Blog</a>
    </div>
</section>

<section class="featured-posts">
    <div class="container">
        <h2 class="gradient-text">Latest Posts</h2>
        
        <div class="posts-grid">
            {{ range first 6 (where .Site.RegularPages "Type" "posts") }}
            <article class="post-card">
                {{ if .Params.image }}
                <div class="post-image">
                    <a href="{{ .Permalink }}">
                        <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}">
                    </a>
                </div>
                {{ else }}
                <div class="post-image post-image-default">
                    <a href="{{ .Permalink }}">
                        <div class="image-placeholder"></div>
                    </a>
                </div>
                {{ end }}
                
                <div class="post-content">
                    <h2 class="post-title">
                        <a href="{{ .Permalink }}">{{ .Title }}</a>
                    </h2>
                    
                    <div class="post-meta">
                        <span class="post-date">
                            <i class="far fa-calendar"></i> {{ .Date.Format "Jan 2, 2006" }}
                        </span>
                        
                        {{ if .Params.tags }}
                        <div class="post-tags">
                            {{ range first 2 .Params.tags }}
                            <span class="post-tag">{{ . }}</span>
                            {{ end }}
                            {{ if gt (len .Params.tags) 2 }}
                            <span class="post-tag">+{{ sub (len .Params.tags) 2 }}</span>
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>
                    
                    <p class="post-excerpt">
                        {{ with .Plain }}
                            {{ $firstParagraph := index (split . "\n\n") 0 }}
                            {{ $firstParagraph | truncate 120 }}
                        {{ else }}
                            {{ .Summary | truncate 120 }}
                        {{ end }}
                    </p>
                    
                    <a href="{{ .Permalink }}" class="read-more-btn">Read More <i class="fas fa-arrow-right"></i></a>
                </div>
            </article>
            {{ end }}
        </div>
        
        <div class="view-all">
            <a href="/posts/" class="btn btn-outline">View All Posts</a>
        </div>
    </div>
</section>
{{ end }}
